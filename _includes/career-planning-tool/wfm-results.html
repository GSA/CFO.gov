
<div id="career-advancement-results-container" class="tablet:grid-col-8 desktop:grid-col-9 usa-prose padding-right-4">
    <!-- HTML elements for search -->
    <section class="career-search-results-header margin-top-5 tablet:margin-top-10">
        <div class="search-container flex-justify flex-wrap tablet:flex-no-wrap">
            <form class="usa-search margin-right-2" role="search">
                <div class="margin-top-1 career-search__label text-bold">
                    <label for="career-advancement-search-input">Search Career Paths: </label>
                </div>
                <div class="margin-bottom-2">
                    <input type="text" id="career-advancement-search-input" class="usa-input margin-top-0" type="search" name="search">
                    <button class="usa-button" type="submit" id="cfo-search-button" title="Search">
                        <span>Search</span>
                    </button>
                </div>
            </form>
            <div id="career-download-buttons" class="display-flex flex-justify">
                <button class="usa-button usa-button--outline margin-bottom-1 usa-tooltip" data-position="top" data-op="select-all">Select All Cards</button>
                <button class="usa-button usa-button--outline margin-bottom-1 usa-tooltip" data-position="top" data-op="download-selected-pdf" disabled title="This feature will allow you to download a report of all selected information cards in PDF file format.">Download PDF</button>
                <button class="usa-button usa-button--outline margin-bottom-1 usa-tooltip" data-position="top" data-op="download-selected-csv" disabled title="This feature will allow you to download a report of all selected information cards in CSV file format.">Download CSV</button>
            </div>
        </div>

        <section class="display-flex flex-row margin-top-1">
            <div class="tablet:grid-col-3 usa-accordion usa-accordion--bordered display-none padding-right-1 margin-top" aria-multiselectable="true" id="series">
                <h3 class="usa-accordion__heading"><button class="usa-accordion__button bg-accent-warm text-black" aria-expanded="false" aria-controls="career-search-results-filter-remove-buttons-series" id="btnSeries">Job Series</button></h3>
                <div id="career-search-results-filter-remove-buttons-series" class="usa-accordion__content"></div>
            </div>
            <div class="tablet:grid-col-3 usa-accordion usa-accordion--bordered display-none padding-right-1 margin-top" aria-multiselectable="true" id="gs">
                <h3 class="usa-accordion__heading"><button class="usa-accordion__button bg-accent-warm text-black" aria-expanded="false" aria-controls="career-search-results-filter-remove-buttons-gs" id="btnGS">GS Level</button></h3>
                <div id="career-search-results-filter-remove-buttons-gs" class="usa-accordion__content"></div>
            </div>
        </section>
            <section class="display-flex flex-row margin-top-1">
                <div class="tablet:grid-col-3 usa-accordion usa-accordion--bordered display-none padding-right-1 margin-top" aria-multiselectable="true" id="job-competency">
                    <h3 class="usa-accordion__heading"><button class="usa-accordion__button bg-accent-warm text-black" aria-expanded="false" aria-controls="career-search-results-filter-remove-buttons-job-competency" id="btnJobCompetency">Job Specific Technical Competencies</button></h3>
                    <div id="career-search-results-filter-remove-buttons-job-competency" class="usa-accordion__content"></div>
                </div>
                <div class="tablet:grid-col-3 usa-accordion usa-accordion--bordered display-none margin-top" aria-multiselectable="true" id="general-competency">
                    <h3 class="usa-accordion__heading"><button class="usa-accordion__button bg-accent-warm text-black" aria-expanded="false" aria-controls="career-search-results-filter-remove-buttons-general-competency" id="btnGeneralCompetency">General Career Competencies</button></h3>
                    <div id="career-search-results-filter-remove-buttons-general-competency" class="usa-accordion__content"></div>
                </div>
            </section>

            <section class="margin-top-1">
                <div id="career-search-results-filter-remove-all-button" class="margin-top-1">
                    <a href="javascript:void(0)" class="text-accent-cool-darker" id="career-facet-remove-all-filters-button"><strong>Clear All</strong></a>
                </div>
            </section>

            <section>
                <div id="dialog" class="display-none">
                    <div id="dtags" class="usa-accordion__content"></div>
                </div>
            </section>
        </section>
    <div class="career-search-results-filter-pagination flex-wrap">
        {% assign post_count = site.cards | size %}
        {% assign default_page_size = 10 %}
        {% assign post_pages = post_count | divided_by: default_page_size %}
        {% assign post_modulus = post_count | minus: post_pages | times: default_page_size %}
        {% if post_modulus > 0 %}
            {% assign post_pages = post_pages | plus: 1 %}
        {% endif %}
        <div class="career-search-results-pagination-wrapper">
        <button type="button" class="cfo-page-left" disabled>&#60; <span class="usa-sr-only">Page left</span></button> <p class="cfo-pagination-text cfo-pagination-page">1</p>/<p class="cfo-pagination-text cfo-pagination-pages">{{ post_pages }}</p> <button type="button" class="cfo-page-right">&#62; <span class="usa-sr-only">Page right</span></button> <p class="cfo-pagination-text cfo-pagination-results">{{ post_count }}</p> Results
        </div>
        <div class="career-search-results-page-size-wrapper">
        <label class="usa-label display-inline font-ui-3xs text-normal" for="per-page-top">Results per page: </label>
        <select id="per-page-top" class="usa-select width-8 display-inline-block margin-top-0" name="per_page">
            <option value="5"{% if default_page_size == 5 %}selected{% endif %}>5</option>
            <option value="10"{% if default_page_size == 10 %}selected{% endif %}>10</option>
            <option value="20"{% if default_page_size == 20 %}selected{% endif %}>20</option>
        </select>
        </div>
    </div>
    <div id="career-search-results">
        <!-- This loops through the paginated posts -->
        {% assign series = '501'%}
        {% assign level = '7-9'%}
        {% assign pcards = site.cards | where: 'series', series | where: 'level', level  | where: 'competency_group', 'Primary' %}
        {% assign scards = site.cards | where: 'series', series | where: 'level', level  | where: 'competency_group', 'Secondary' %}
        {% assign cards = pcards | concat: scards  %}
        {% for card in cards limit:default_page_size %}
        <div class="tablet:grid-col-12 grid-spacing policy {{ card.filters }}" data-card-filters="{{ card.filters }}">
            <div class="cfo-career-outer-box">
                <div class="cfo-career-text-container position-relative">
                    <div class="select-button">
                        <label><input type="checkbox" value="{{ card.permalink }}"> <span>Select for download</span></label>
                    </div>
                    <div class="cfo-career-category-container font-body-md margin-y-0">
                        <div class="cfo-inner-competency-div"><span><strong>GS Level:</strong> {{ card.level }}</span></div>
                        <div class="cfo-inner-competency-div"><span><strong>Job Series:</strong> 0{{ card.series }}</span></div>
                    </div>
                    <div class="cfo-career-category-container font-body-md margin-y-0">
                        <div class="cfo-inner-competency-div"><span><strong>Competency:</strong> {{ card.competency }}</span></div>
                        <div class="cfo-inner-competency-div"><span><strong>Type:</strong> {{ card.competency_group }}</span></div>
                    </div>
                    <p class="font-body-md"><strong>Definition:</strong> {{ card.competency_description }}</p>
                    <div class="grid-row grid-gap">
                        {{ card.content }}
                    </div>
                    <div>
                        <h3>Career Listing</h3>
                        {% if card.relevant_courses.size != 0 %}
                        <ul class="usa-list" role="list">
                            {% for course in card.relevant_courses %}
                            <li role="listitem">{{ course | replace: '">', '" target="_blank" >'}}</li>
                            {% endfor %}
                            <ul>
                                {% else %}
                                <p>No courses</p>
                                {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="career-search-results-filter-pagination flex-wrap margin-bottom-205">
        <div class="career-search-results-pagination-wrapper">
            <button type="button" class="cfo-page-left" disabled>&#60; <span class="usa-sr-only">Page left</span></button> <p class="cfo-pagination-text cfo-pagination-page">1</p>/<p class="cfo-pagination-text cfo-pagination-pages">{{ post_pages }}</p> <button type="button" class="cfo-page-right">&#62; <span class="usa-sr-only">Page right</span></button> <p class="cfo-pagination-text cfo-pagination-results">{{ post_count }}</p> Results
        </div>
        <div class="career-search-results-page-size-wrapper">
        <label class="usa-label display-inline font-ui-3xs text-normal" for="per-page-bot">Results per page: </label>
        <select id="per-page-bot" class="usa-select width-8 display-inline-block margin-top-0" name="per_page">top-0" name="per_page">
            <option value="5"{% if default_page_size == 5 %}selected{% endif %}>5</option>
            <option value="10"{% if default_page_size == 10 %}selected{% endif %}>10</option>
            <option value="20"{% if default_page_size == 20 %}selected{% endif %}>20</option>
        </select>
        </div>
    </div>
</div>
